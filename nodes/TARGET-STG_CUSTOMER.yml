fileVersion: 1
id: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 53da9136-260f-4888-8989-a3ab9cf69a2a
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: CUST_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a2461e5c-6c15-4e70-91ba-d733cb102105
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a61806a1-1b03-47fe-9971-71454c52fbee
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: VARCHAR(16777216)
        description: ""
        name: CUST_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2122eea0-0074-4b3d-ac84-11ca5f8377d5
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: TRIM(CUST_NAME)
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aa563f12-6037-4140-a40c-5df7ef4e59ca
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: VARCHAR(16777216)
        description: ""
        name: EMAIL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a154b72-87b7-42a2-bd03-4d600c168910
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: LOWER(TRIM(EMAIL))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0da956ca-4b0a-4f6a-aa3a-21152e7649ab
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: VARCHAR(16777216)
        description: ""
        name: CITY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2336ac94-5682-4970-8e9c-d935ea18db57
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: INITCAP(TRIM(CITY))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 54dddb7f-1502-4e6e-a14c-37a8335457f9
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: VARCHAR(16777216)
        description: ""
        name: COUNTRY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f4fd2bb9-91e2-48bc-9fa6-02eef6eddbaa
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: INITCAP(TRIM(COUNTRY))
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 177e7167-c736-4a59-9ce6-0c0132af5915
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: DATE
        description: ""
        name: CREATED_AT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 257245b8-4582-490c-bc7f-c8842cb0ef47
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: TO_DATE(CREATED_AT)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3b356f21-4b5c-42d8-a326-4759f64dec0b
          stepCounter: 1d33a65c-0c7a-4b89-9de7-ec0a9b8bba21
        config: {}
        dataType: VARCHAR(16777216)
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: EMAIL_DOMAIN
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a154b72-87b7-42a2-bd03-4d600c168910
                stepCounter: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
            transform: SPLIT_PART(EMAIL,'@',2)
        systemColumnType: None
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 1de8f5c8-1c94-4013-b3da-3cc51d7a3f7f
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SRC
            nodeName: CUSTOMER
        join:
          joinCondition: FROM {{ ref('SRC', 'CUSTOMER') }} "CUSTOMER"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
